{
  "db": "PostgreSQL",
  "17c8c705656859ff027201a09cbbd15ddeffd3d7128e47db58311c095752b56e": {
    "query": "DELETE FROM users_followers WHERE follower_id = $1 AND leader_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "2cbe7b57e7c4d4aa6e31ea6d6428a33cc6c3ad70ca17ca561fd7815345166357": {
    "query": "\n            SELECT username, bio, image, (uf.leader_id IS NOT NULL) \"following!\"  FROM users u\n            LEFT JOIN users_followers uf ON uf.leader_id = u.id AND uf.follower_id = $2\n            WHERE u.username = $1\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "bio",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "following!",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int4"
        ]
      },
      "nullable": [
        false,
        true,
        true,
        null
      ]
    }
  },
  "511019f9528f584738d435c898c7086865e2bf80975817332042b1a0c0150aae": {
    "query": "\n            UPDATE users \n            SET email = $2,\n                username = $3,\n                password = $4,\n                image = $5,\n                bio = $6\n            WHERE id = $1\n            RETURNING *\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "password",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "bio",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Varchar",
          "Varchar",
          "Varchar",
          "Varchar",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false
      ]
    }
  },
  "733561c5b89d8b31720fef15c1e0b456a1905bd8717d4886cb0bc9b74f876a37": {
    "query": "\n            SELECT a.*, \n                   ARRAY_AGG(at.tag_id) \"tag_list!\",\n                   COUNT(DISTINCT af.article_id) \"favorites_count!\",\n                   af2.user_id IS NOT NULL \"favorited!\"\n            FROM articles a\n            LEFT JOIN articles_tags at ON at.article_id = a.id\n            LEFT JOIN articles_favorites af ON af.article_id = a.id\n            LEFT JOIN articles_favorites af2 ON af2.article_id = a.id AND af2.user_id = $2\n            WHERE a.slug = $1\n            GROUP BY a.id, af2.user_id\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "slug",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "body",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "author_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "tag_list!",
          "type_info": "VarcharArray"
        },
        {
          "ordinal": 9,
          "name": "favorites_count!",
          "type_info": "Int8"
        },
        {
          "ordinal": 10,
          "name": "favorited!",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        null,
        null,
        null
      ]
    }
  },
  "82b10b626e69dae98087c9978af57b68c14526f063028f36393a5afb49e35194": {
    "query": "\n            SELECT a.*, \n                   ARRAY_AGG(at.tag_id) \"tag_list!\",\n                   COUNT(DISTINCT af.article_id) \"favorites_count!\",\n                   BOOL_OR(af2.user_id IS NOT NULL) \"favorited!\",\n                   u.username \"author_username\",\n                   u.bio \"author_bio\",\n                   u.image \"author_image\",\n                   (uf.follower_id IS NOT NULL) \"author_following!\"\n            FROM articles a\n            LEFT JOIN articles_tags at ON at.article_id = a.id\n            LEFT JOIN articles_favorites af ON af.article_id = a.id\n            LEFT JOIN articles_favorites af2 ON af2.article_id = a.id AND af2.user_id = $1\n            INNER JOIN users u \n                LEFT JOIN users_followers uf ON uf.leader_id = u.id AND uf.follower_id = $1\n                ON u.id = a.author_id\n            WHERE ($2::VARCHAR IS NULL OR at.tag_id = $2::VARCHAR) AND\n                  ($3::VARCHAR IS NULL OR u.username = $3::VARCHAR) AND\n                  ($4::BOOL IS NULL OR (af2.user_id IS NOT NULL) = $4::BOOL)\n            GROUP BY a.id, u.username, u.bio, u.image, uf.follower_id\n            ORDER BY a.id DESC\n            LIMIT $6\n            OFFSET $5\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "slug",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "body",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "author_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "tag_list!",
          "type_info": "VarcharArray"
        },
        {
          "ordinal": 9,
          "name": "favorites_count!",
          "type_info": "Int8"
        },
        {
          "ordinal": 10,
          "name": "favorited!",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "author_username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 12,
          "name": "author_bio",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "author_image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 14,
          "name": "author_following!",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Varchar",
          "Varchar",
          "Bool",
          "Int8",
          "Int8"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        null,
        null,
        null,
        false,
        true,
        true,
        null
      ]
    }
  },
  "843923b9a0257cf80f1dff554e7dc8fdfc05f489328e8376513124dfb42996e3": {
    "query": "SELECT * FROM users WHERE id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "password",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "bio",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false
      ]
    }
  },
  "8485de8795ee9b27d66c6e282440cc138aceb130846a1ed493bb14779caa223e": {
    "query": "INSERT INTO users_followers (follower_id, leader_id) VALUES ($1, $2)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "95e57ae509b28fb0073c6fa5782fde695e4283121c1ebcc6cf08e80a785cd8c7": {
    "query": "\n            INSERT INTO articles (slug, title, description, body, author_id)\n            VALUES ($1, $2, $3, $4, $5)\n            RETURNING *\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "slug",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "body",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "author_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Text",
          "Text",
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "c1d8d3ac6fd80ddb4c4241bc030894485518d55d5fb1ce6ad54a0511bc932832": {
    "query": "\n            INSERT INTO \"users\" (\"email\", \"password\", \"username\") \n            VALUES ($1, $2, $3) \n            RETURNING *\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "password",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "bio",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Varchar"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false
      ]
    }
  },
  "d4e2d567d1cff8dc291875a2f5de530b31c3eb667298a95108af90550e393ce9": {
    "query": "SELECT *  FROM users WHERE username = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "password",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "bio",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false
      ]
    }
  },
  "f3f58600e971f1be6cbe206bba24f77769f54c6230e28f5b3dc719b869d9cb3f": {
    "query": "SELECT * FROM users WHERE email = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "password",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "bio",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "updated_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false
      ]
    }
  },
  "fdd279749695170c116cbb0feb32b24ce0048afec0be369f896202d9addebe5f": {
    "query": "\n            SELECT username, bio, image, (uf.leader_id IS NOT NULL) \"following!\"  FROM users u\n            LEFT JOIN users_followers uf ON uf.leader_id = u.id AND uf.follower_id = $2\n            WHERE u.id = $1\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "bio",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "following!",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": [
        false,
        true,
        true,
        null
      ]
    }
  }
}